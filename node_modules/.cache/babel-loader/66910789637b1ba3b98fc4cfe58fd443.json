{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u0410\\u043D\\u0441\\u0430\\u0440/Documents/FBMD/Front-End/react/ansa-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/\\u0410\\u043D\\u0441\\u0430\\u0440/Documents/FBMD/Front-End/react/ansa-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{useParams}from'react-router-dom';import Slider from'react-slick';import'slick-carousel/slick/slick.css';import'slick-carousel/slick/slick-theme.css';import CastCard from'../comp/actor-comp/CastCard';import SimilarMovieCard from'../comp/movie-comp/SimilarMovieCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Movie(){var link='https://image.tmdb.org/t/p/original';var videolink='https://www.youtube.com/embed/';var setVoteClass=function setVoteClass(vote){if(vote>=8){return\"green\";}else if(vote>=5){return\"orange\";}else{return\"red\";}};var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),videos=_useState4[0],setVideo=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),cast=_useState6[0],setCast=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),crew=_useState8[0],setCrew=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),similarmovies=_useState10[0],setSimilarMovies=_useState10[1];useEffect(function(){fetch('https://api.themoviedb.org/3/movie/ '+id+'?api_key=9122d3e99f5cf10f65b111a1dcd51b20&language=ru-RU').then(function(res){return res.json();}).then(function(data){setMovie(data);});},[id]);useEffect(function(){fetch('https://api.themoviedb.org/3/movie/'+id+'/videos?api_key=9122d3e99f5cf10f65b111a1dcd51b20&language=ru-RU&page=1').then(function(res){return res.json();}).then(function(videos){setVideo(videos);});},[id]);useEffect(function(){fetch('https://api.themoviedb.org/3/movie/'+id+'/credits?api_key=9122d3e99f5cf10f65b111a1dcd51b20&language=ru-RU&page=1').then(function(res){return res.json();}).then(function(cast){setCast(cast);});},[id]);useEffect(function(){fetch('https://api.themoviedb.org/3/movie/'+id+'/credits?api_key=9122d3e99f5cf10f65b111a1dcd51b20&language=ru-RU&page=1').then(function(res){return res.json();}).then(function(crew){setCrew(crew);});},[id]);useEffect(function(){fetch('https://api.themoviedb.org/3/movie/'+id+'/similar?api_key=9122d3e99f5cf10f65b111a1dcd51b20&language=ru-RU&page=1').then(function(res){return res.json();}).then(function(similar){setSimilarMovies(similar.results);});},[id]);if(!movie)return null;if(!videos)return null;if(!cast)return null;if(!crew)return null;if(!similarmovies)return null;var properties={dots:false,infinite:true,speed:1000,slidesToShow:4,slidesToScroll:4,responsive:[{breakpoint:580,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:320,settings:{slidesToShow:2,slidesToScroll:2}}]};var genreList=movie.genres.map(function(g,i){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"li\",{className:\"movie-genre-list\",children:/*#__PURE__*/_jsx(\"a\",{href:\"\",className:\"movie-genre-name\",children:g.name})},i)});});return/*#__PURE__*/_jsxs(\"div\",{className:\"movie\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"movie-trailer\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"movie-backdrop\",src:link+movie.backdrop_path}),movie.backdrop_path?/*#__PURE__*/_jsx(\"img\",{className:\"movie-backdrop\",src:link+movie.backdrop_path}):/*#__PURE__*/_jsx(\"img\",{className:\"movie-backdrop\",src:require('../img/cool-background.png').default,alt:\"\"}),videos.results.length>0?/*#__PURE__*/_jsx(\"iframe\",{frameborder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowfullscreen:true,src:videolink+videos.results[0].key}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"movie-left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"movie-pictures\",children:[movie.poster_path?/*#__PURE__*/_jsx(\"img\",{className:\"movie-poster\",src:link+movie.poster_path,alt:\"\"}):/*#__PURE__*/_jsx(\"img\",{className:\"movie-poster\",src:require('../img/images.png').default}),/*#__PURE__*/_jsx(\"span\",{className:\"movie-vote-average \".concat(setVoteClass(movie.vote_average)),children:movie.vote_average})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"movie-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"movie-title\",children:movie.title}),/*#__PURE__*/_jsx(\"h1\",{className:\"movie-original-title\",children:movie.original_title}),/*#__PURE__*/_jsx(\"h3\",{className:\"movie-original-tagline\",children:movie.tagline}),/*#__PURE__*/_jsx(\"p\",{className:\"movie-release-date\",children:movie.release_date}),/*#__PURE__*/_jsx(\"ol\",{className:\"movie-genre\",children:movie.genres&&genreList}),/*#__PURE__*/_jsx(\"p\",{className:\"movie-overview\",children:movie.overview}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"movie-detail\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"movie-overview\",children:\"\\u0412\\u0440\\u0435\\u043C\\u044F: \"}),/*#__PURE__*/_jsx(\"span\",{children:\"\".concat(movie.runtime,\" \\u043C\\u0438\\u043D\\u0443\\u0442\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-detail\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"movie-original-lang\",children:\"\\u041E\\u0440\\u0438\\u0433\\u0438\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0439 \\u044F\\u0437\\u044B\\u043A: \"}),/*#__PURE__*/_jsx(\"span\",{children:movie.original_language})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-detail\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"movie-popularity\",children:\"\\u041F\\u043E\\u043F\\u0443\\u043B\\u044F\\u0440\\u043D\\u043E\\u0441\\u0442\\u044C: \"}),/*#__PURE__*/_jsx(\"span\",{children:movie.popularity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-detail\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"movie-budget\",children:\"\\u0411\\u044E\\u0434\\u0436\\u0435\\u0442: \"}),/*#__PURE__*/_jsx(\"span\",{children:\"\".concat(movie.budget,\"$\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-detail\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"movie-homepage\",children:\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430: \"}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"a\",{href:movie.homepage,children:movie.title})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-detail\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"movie-production-country\",children:\"\\u041F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0441\\u0442\\u0432\\u043E: \"}),movie.production_countries.length>0?/*#__PURE__*/_jsx(\"span\",{children:movie.production_countries[0].name}):/*#__PURE__*/_jsx(_Fragment,{})]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-cast\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cast-title title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"The Cast\"})}),/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({className:\"actors-list\"},properties),{},{children:cast.cast.map(function(item){return/*#__PURE__*/_jsx(CastCard,{cast:item});})}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-crew\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"crew-title title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"The Crew\"})}),/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({className:\"actors-list\"},properties),{},{children:cast.crew.map(function(item){return/*#__PURE__*/_jsx(CastCard,{cast:item});})}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"similar-movies\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"similar-movie-title title\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Similar Movies\"})}),/*#__PURE__*/_jsx(Slider,_objectSpread(_objectSpread({className:\"movie-list\"},properties),{},{children:similarmovies.map(function(item){return/*#__PURE__*/_jsx(SimilarMovieCard,{similar:item});})}))]})]});}export default Movie;","map":{"version":3,"sources":["C:/Users/Ансар/Documents/FBMD/Front-End/react/ansa-app/src/main/Movie.jsx"],"names":["useEffect","useState","useParams","Slider","CastCard","SimilarMovieCard","Movie","link","videolink","setVoteClass","vote","id","movie","setMovie","videos","setVideo","cast","setCast","crew","setCrew","similarmovies","setSimilarMovies","fetch","then","res","json","data","similar","results","properties","dots","infinite","speed","slidesToShow","slidesToScroll","responsive","breakpoint","settings","genreList","genres","map","g","i","name","backdrop_path","require","default","length","key","poster_path","vote_average","title","original_title","tagline","release_date","overview","runtime","original_language","popularity","budget","homepage","production_countries","item"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport Slider from 'react-slick'\r\nimport 'slick-carousel/slick/slick.css'\r\nimport 'slick-carousel/slick/slick-theme.css'\r\n\r\nimport CastCard from '../comp/actor-comp/CastCard'\r\nimport SimilarMovieCard from '../comp/movie-comp/SimilarMovieCard'\r\n\r\nfunction Movie() {\r\n    const link = 'https://image.tmdb.org/t/p/original'\r\n    const videolink = 'https://www.youtube.com/embed/'\r\n    const setVoteClass = (vote) => {\r\n        if (vote >= 8) {\r\n            return \"green\";\r\n        } else if (vote >= 5) {\r\n            return \"orange\";\r\n        } else {\r\n            return \"red\";\r\n        }\r\n    }\r\n\r\n    const { id } = useParams()\r\n\r\n    const [movie, setMovie] = useState(null)\r\n\r\n    const [videos, setVideo] = useState(null)\r\n\r\n    const [cast, setCast] = useState(null)\r\n\r\n    const [crew, setCrew] = useState(null)\r\n\r\n    const [similarmovies, setSimilarMovies] = useState(null)\r\n\r\n    useEffect(() => {\r\n        fetch('https://api.themoviedb.org/3/movie/ ' + id + '?api_key=9122d3e99f5cf10f65b111a1dcd51b20&language=ru-RU')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                setMovie(data)\r\n            })\r\n    }, [id])\r\n\r\n    useEffect(() => {\r\n        fetch('https://api.themoviedb.org/3/movie/' + id + '/videos?api_key=9122d3e99f5cf10f65b111a1dcd51b20&language=ru-RU&page=1')\r\n            .then(res => res.json())\r\n            .then(videos => {\r\n                setVideo(videos)\r\n            })\r\n    }, [id])\r\n\r\n    useEffect(() => {\r\n        fetch('https://api.themoviedb.org/3/movie/' + id + '/credits?api_key=9122d3e99f5cf10f65b111a1dcd51b20&language=ru-RU&page=1')\r\n            .then(res => res.json())\r\n            .then(cast => {\r\n                setCast(cast)\r\n            })\r\n    }, [id ])\r\n\r\n    useEffect(() => {\r\n        fetch('https://api.themoviedb.org/3/movie/' + id + '/credits?api_key=9122d3e99f5cf10f65b111a1dcd51b20&language=ru-RU&page=1')\r\n            .then(res => res.json())\r\n            .then(crew => {\r\n                setCrew(crew)\r\n            })\r\n    }, [id])\r\n\r\n    useEffect(() => {\r\n        fetch('https://api.themoviedb.org/3/movie/' + id + '/similar?api_key=9122d3e99f5cf10f65b111a1dcd51b20&language=ru-RU&page=1')\r\n            .then(res => res.json())\r\n            .then(similar => {\r\n                setSimilarMovies(similar.results)\r\n            })\r\n    }, [id])\r\n\r\n    if (!movie) return null\r\n\r\n    if (!videos) return null\r\n\r\n    if (!cast) return null\r\n\r\n    if (!crew) return null\r\n\r\n    if (!similarmovies) return null\r\n\r\n    let properties = {\r\n        dots: false,\r\n        infinite: true,\r\n        speed: 1000,\r\n        slidesToShow: 4,\r\n        slidesToScroll: 4,  \r\n        responsive:\r\n        [\r\n            {\r\n                breakpoint:580,\r\n                settings:{\r\n                    slidesToShow: 3,\r\n                    slidesToScroll: 3\r\n                }\r\n            },\r\n            {\r\n                breakpoint:320,\r\n                settings:{\r\n                    slidesToShow: 2,\r\n                    slidesToScroll: 2\r\n                }\r\n            }\r\n        ]\r\n    }\r\n\r\n    const genreList = movie.genres.map((g, i) => {\r\n        return (\r\n            <>\r\n                <li className=\"movie-genre-list\" key={i}>\r\n                    <a href=\"\" className=\"movie-genre-name\">\r\n                        {g.name}\r\n                    </a>\r\n                </li>\r\n            </>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className=\"movie\">\r\n            <div className=\"movie-trailer\">\r\n                <img className=\"movie-backdrop\" src={link + movie.backdrop_path} />\r\n                {\r\n                    movie.backdrop_path ? (<img className=\"movie-backdrop\" src={link + movie.backdrop_path} />) : (<img className=\"movie-backdrop\" src={require('../img/cool-background.png').default} alt=\"\" />)\r\n                }\r\n                {\r\n                    videos.results.length > 0 ? (<iframe frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen src={videolink + videos.results[0].key}></iframe>) : (<></>)\r\n                }\r\n            </div>\r\n            <div className=\"movie-section\">\r\n                <div className=\"movie-left\">\r\n                    <div className=\"movie-pictures\">\r\n                        {\r\n                            movie.poster_path ? <img className=\"movie-poster\" src={link + movie.poster_path} alt=\"\" /> : <img className=\"movie-poster\" src={require('../img/images.png').default}></img>\r\n                        }\r\n                        <span className={`movie-vote-average ${setVoteClass(movie.vote_average)}`}>{movie.vote_average}</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"movie-right\">\r\n                    <div className=\"movie-info\">\r\n                        <h1 className=\"movie-title\">{movie.title}</h1>\r\n                        <h1 className=\"movie-original-title\">{movie.original_title}</h1>\r\n                        <h3 className=\"movie-original-tagline\">{movie.tagline}</h3>\r\n                        <p className=\"movie-release-date\">{movie.release_date}</p>\r\n                        <ol className=\"movie-genre\">{movie.genres && genreList}</ol>\r\n                        <p className=\"movie-overview\">{movie.overview}</p>\r\n                        <div className=\"movie-details\">\r\n                            <div className=\"movie-detail\">\r\n                                <p className=\"movie-overview\">Время: </p><span>{`${movie.runtime} минут`}</span>\r\n                            </div>\r\n                            <div className=\"movie-detail\">\r\n                                <p className=\"movie-original-lang\">Оригинальный язык: </p><span>{movie.original_language}</span>\r\n                            </div>\r\n                            <div className=\"movie-detail\">\r\n                                <p className=\"movie-popularity\">Популярность: </p><span>{movie.popularity}</span>\r\n                            </div>\r\n                            <div className=\"movie-detail\">\r\n                                <p className=\"movie-budget\">Бюджет: </p><span>{`${movie.budget}$`}</span>\r\n                            </div>\r\n                            <div className=\"movie-detail\">\r\n                                <p className=\"movie-homepage\">Страница: </p><span><a href={movie.homepage}>{movie.title}</a></span>\r\n                            </div>\r\n                            <div className=\"movie-detail\">\r\n                                <p className=\"movie-production-country\">Производство: </p>\r\n                                {\r\n                                    movie.production_countries.length > 0 ? (<span>{movie.production_countries[0].name}</span>) : (<></>)\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"movie-cast\">\r\n                <div className=\"cast-title title\">\r\n                    <h1>The Cast</h1>\r\n                </div>\r\n                <Slider className=\"actors-list\" {...properties}>\r\n                    {\r\n                        cast.cast.map(item => (\r\n                            <CastCard cast={item} />\r\n                        ))\r\n                    }\r\n                </Slider>\r\n            </div>\r\n            <div className=\"movie-crew\">\r\n                <div className=\"crew-title title\">\r\n                    <h1>The Crew</h1>\r\n                </div>\r\n                <Slider className=\"actors-list\" {...properties}>\r\n                    {\r\n                        cast.crew.map(item => (\r\n                            <CastCard cast={item} />\r\n                        ))\r\n                    }\r\n                </Slider>\r\n            </div>\r\n            <div className=\"similar-movies\">\r\n                <div className=\"similar-movie-title title\">\r\n                    <h1>Similar Movies</h1>\r\n                </div>\r\n                <Slider className=\"movie-list\" {...properties}>\r\n                    {\r\n                        similarmovies.map(item => (\r\n                            <SimilarMovieCard similar={item} />\r\n                        ))\r\n                    }\r\n                </Slider>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Movie;"]},"metadata":{},"sourceType":"module"}